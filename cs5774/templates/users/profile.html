{% extends "coviDash/base.html" %}

{% load static %}

{% block title %} {{ userdata.username }} {% endblock %}

{% block content %}


{% if messages %}
{% for message in messages %}
<div class="dbMessage alert-{{ message.tags }}">{{ message }}</div>
{% endfor %}
{% endif %}

<section class="user-profile">
    <h1>{{ userdata.username }}'s Profile</h1>

    {% if request.session.role == "admin" and userdata.details.role != "admin" and userdata.details.role != "developer" %}
    <div class="controls">
        <a class="edit-btn" href="{% url "users:edit-user" userdata.username %}">Edit</a>
    </div>
    {% elif request.session.username == userdata.username or request.session.role == "developer" %}
    <div class="controls">
        <a class="edit-btn" href="{% url "users:edit-user" userdata.username %}">Edit</a>
    </div>
    {% endif %}

    <div class="profile-inner">
        <dl>
            <dt>User Name</dt>
            <dd>{{ userdata.username }}</dd>
            <dt>Email address</dt>
            <dd>{{ userdata.email }}</dd>
            <dt>Title</dt>
            <dd>Level {{ userdata.details.level }} {{ userdata.details.get_title }}</dd>
        </dl>
    </div>

</section>

{% endblock %}